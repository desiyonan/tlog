[{"content":"ç®€ä»‹ è®°å½•ä¸‹æˆæƒoauth2çš„ç†è§£ï¼Œè¿˜æœ‰è‡ªå·±çš„ç–‘é—®ç­‰ç­‰ã€‚\näº†è§£æˆæƒ ä»€ä¹ˆæ˜¯æˆæƒ ç®€å•æ¥è¯´å°±æ˜¯å°†è‡ªå·±çš„æƒé™ç»™å…¶ä»–äººï¼Œè®©ä»–å¯ä»¥å®Œæˆç›¸åº”çš„å·¥ä½œä»»åŠ¡ã€‚\nä¸ºä»€ä¹ˆéœ€è¦æˆæƒ äº’è”ç½‘ä½œä¸ºä¸€ä¸ªçš„åºå¤§ç½‘ç»œï¼Œå…¶ä¸­æœ‰æµ·é‡çš„æœåŠ¡æä¾›æ–¹ï¼Œè€Œæˆ‘ä»¬ä¸ªäººä½œä¸ºè¿™äº›æœåŠ¡çš„ä½¿ç”¨è€…ï¼Œé€šå¸¸éœ€è¦å¯¹ä¸åŒçš„æœåŠ¡æä¾›ç›¸åŒçš„ä¿¡æ¯ï¼ˆæ¯”å¦‚èº«ä»½ã€å­¦å†ã€è”ç³»æ–¹å¼ç­‰ç­‰ï¼‰ï¼Œè€Œè¿™ä¸å°±ç›¸å½“äºè‡ªå·±æŠŠä¸ªäººä¿¡æ¯ä»ä¸€ä¸ªå·²æœ‰çš„æœåŠ¡ç³»ç»Ÿæ‹·è´å¦ä¸€ä¸ªæ–°çš„æœåŠ¡ç³»ç»Ÿä¸­å—ï¼Ÿä¸æƒ³è‡ªå·±åšï¼Œå«Œéº»çƒ¦äº†ä¹Ÿå¯ä»¥å§”æ‰˜å…¶ä»–äººæ¥æ‹·è´ï¼Œä½†å†æ­¤ä¹‹å‰å¾—æ‰¾è‡ªå·±ä¿¡å¾—è¿‡å¸®æ‰‹è®©ä»–ä»£æ›¿è‡ªå·±ï¼ˆä½ è‚¯å®šä¸å¸Œæœ›éšä¾¿ä¸€ä¸ªé™Œç”Ÿäººç›—ç”¨è‡ªå·±å¾—ä¿¡æ¯ï¼‰ï¼Œä¸ºäº†ä¸åŒæœåŠ¡é—´èµ„æºæ•°æ®çš„å®‰å…¨å…±äº«ï¼Œè¿™å°±éœ€è¦æˆæƒï¼\næ€ä¹ˆæˆæƒ æ³¨ï¼šæ€ä¹ˆæˆæƒæ¢è¨€ä¹‹å°±æ˜¯æˆæƒæ–¹å¼ï¼Œå…ˆæ€è€ƒæœ‰å“ªäº›æˆæƒæ–¹å¼ï¼Œå®ƒä»¬å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜å’Œå¤„ç†æ–¹å¼ï¼Œè‡³äºå®ƒä»¬å…·ä½“å®ç°ç»†èŠ‚è¿™é‡Œä¸åšè¿‡å¤šæè¿°ã€‚\nåœ¨äº†è§£æ€ä¹ˆæˆæƒçš„ä¹‹å‰ï¼Œå…ˆæ€è€ƒæˆæƒè¿™ä¸ªè¿‡ç¨‹æ¶‰åŠåˆ°äº†å“ªäº›è§’è‰²ï¼ˆè‡ªå·±çš„ç†è§£ï¼Œæ¯”è¾ƒç‰‡é¢ï¼‰ï¼š\n ç”¨æˆ·ï¼šèµ„æºæ•°æ®çš„æ‰€æœ‰æ–¹ æœåŠ¡æä¾›æ–¹ï¼šéœ€è¦å…±äº«èµ„æºæ•°æ®ç»™å¤–éƒ¨çš„æœåŠ¡ æœåŠ¡ä½¿ç”¨æ–¹ï¼šç¬¬ä¸‰æ–¹æœåŠ¡ã€å¤–éƒ¨æœåŠ¡ã€æ¥å…¥æ–¹ã€è°ƒç”¨æ–¹  æˆæƒè¡Œä¸ºï¼šç”¨æˆ·å°†è‡ªå·±åœ¨æœåŠ¡æä¾›æ–¹çš„æƒé™ï¼ˆéƒ¨åˆ†æˆ–å…¨éƒ¨ï¼‰ç»™æœåŠ¡ä½¿ç”¨æ–¹ï¼Œä½¿æœåŠ¡ä½¿ç”¨æ–¹å¯è¿›è¡Œç›¸å…³æƒé™çš„æ“ä½œã€‚\næœ€ç®€å•çš„æˆæƒæ— éæ˜¯æœåŠ¡æä¾›æ–¹å°†ç”¨æˆ·çš„å¸å·å¯†ç ç»™ç¬¬ä¸‰æ–¹ç³»ç»Ÿï¼ˆæœåŠ¡ä½¿ç”¨æ–¹ï¼‰ï¼Œä½†è¿™æ˜¯å»ºç«‹åœ¨éå¸¸ä¿¡ä»»æƒ…å†µä¸‹ï¼ˆåº”è¯¥æ²¡æœ‰æ­£å¸¸äººä¼šæŠŠè‡ªå®¶å¤§é—¨é’¥åŒ™ç»™ä¸€ä¸ªä»æœªè§é¢çš„é™Œç”Ÿäººå§ï¼‰\nå…±äº«å¸å·å¯†ç å®ç°ç¡®å®ç®€å•ç›´æ¥ï¼Œä½†è¿™çœŸçš„æ²¡æœ‰å¼Šç«¯å—ï¼Ÿ\nè¯•æƒ³è‡ªå·±ä½œä¸ºæœåŠ¡æä¾›æ–¹é‡‡ç”¨è¿™ç§æ–¹æ¡ˆï¼Œå°†ä¼šæœ‰å“ªäº›é—®é¢˜ï¼Ÿ\n è¦æ˜¯å“ªå¤©ç”¨æˆ·çš„å¯†ç æ¢äº†ï¼Œåˆæ€ä¹ˆè®©ç¬¬ä¸‰æ–¹ç³»ç»Ÿèƒ½ç»§ç»­è®¿é—®èµ„æºï¼Ÿï¼ˆåŒæ­¥å¸å·å¯†ç å¿…ç„¶é‡åˆ°æ›´å¤šé—®é¢˜ï¼ï¼‰ åˆæˆ–è€…æ˜¯å“ªå¤©ç¬¬ä¸‰æ–¹å…¶ä¸­çš„ä¸€ä¸ªä¸å†å¯ä¿¡ï¼Œä¸èƒ½å†ç»™ä»–æƒé™äº†ï¼Œå¦‚ä½•ä¿è¯åœ¨ä¸å½±å“ç”¨æˆ·å’Œå…¶ä»–ç¬¬ä¸‰æ–¹ç³»ç»Ÿçš„æƒ…å†µä¸‹å¯¹å…¶é™åˆ¶ï¼Ÿ å†è¯´å¦‚æœç»™äº†å¸å·å¯†ç ï¼Œå°±ç›¸å½“äºç”¨æˆ·åœ¨æ“ä½œï¼Œåˆæ€ä¹ˆçŸ¥é“ç”¨æˆ·æ˜¯å¦çœŸçš„å‡ºäºæ„æ„¿æ¥è¿›è¡Œæ“ä½œï¼Ÿï¼ˆéš¾ä»¥ä¿è¯ç¬¬ä¸‰æ–¹ä¸ä¼šæ»¥ç”¨å¸å·å¯†ç ï¼‰ æ›´éœ€è¦æ³¨æ„çš„æ˜¯æƒé™ï¼Œæ¯”å¦‚ç¬¬ä¸‰æ–¹ç³»ç»Ÿå·²çŸ¥ç”¨æˆ·å¸å·å¯†ç ï¼Œé‚£ä»–æ˜¯å¦å¯ä»¥ä¿®æ”¹ç”¨æˆ·çš„å¯†ç ï¼Ÿ  ä»¥ä¸Šåªæ˜¯æƒ³åˆ°çš„ä¸€éƒ¨åˆ†é—®é¢˜ï¼Œä¼°è®¡è¦è§£å†³è¿™äº›é—®é¢˜åˆå¾—ç‰ºç‰²ä¸ºæ•°ä¸å¤šçš„å¤´å‘ã€‚\nå¦‚æœç«™åœ¨è¢«æˆæƒæ–¹ï¼ˆæœåŠ¡ä½¿ç”¨æ–¹ï¼‰çš„è§’åº¦ï¼Œè¿™äº›é—®é¢˜éƒ½ä¸ç®—äº‹ï¼Œåªè¦ä½ ç»™å¯†ç ï¼Œæˆ‘èƒ½å®Œæˆå·¥ä½œï¼Œé‚£å°±æ²¡é—®é¢˜ï¼\nä½†æ˜¯ç«™åœ¨æˆæƒæ–¹ï¼ˆæœåŠ¡æä¾›æ–¹ï¼‰çš„è§’åº¦ï¼Œé‚£å°±ä¸å¾—ä¸é‡è§†äº†ï¼Œä¸ä»…æ˜¯ä¸ºäº†ç”¨æˆ·ï¼Œä¹Ÿæ˜¯ä¸ºäº†æœ¬ç³»ç»Ÿçš„å®‰å…¨ï¼\nä»æœåŠ¡æä¾›æ–¹çš„è§’åº¦æ¥è€ƒè™‘çš„è¯ï¼Œæ€ä¹ˆæˆæƒæ‰èƒ½é¿å…ä¸Šé¢çš„é—®é¢˜ï¼Ÿ\n å½“ç„¶æ˜¯ä¸ä¸ç¬¬ä¸‰æ–¹å…±äº«å¯†ç ï¼Œæˆ–è€…ç›´æ¥ç”±ç”¨æˆ·æä¾›å¸å·å¯†ç æˆæƒ éœ€è¦éªŒè¯ç¬¬ä¸‰æ–¹æœåŠ¡çš„èº«ä»½ï¼Œä¸æ˜¯ä»»ä½•äººéƒ½å¯ä»¥éšä¾¿æ¥å…¥æˆæƒæœåŠ¡ è®©ç”¨æˆ·å‚ä¸åˆ°è¿‡ç¨‹ä¸­ï¼ˆæä¾›å¸å·å¯†ç ã€ç¡®è®¤æˆæƒèŒƒå›´ã€ç¡®è®¤äººä¸ºæ“ä½œï¼‰  æ‰€ä»¥æˆæƒæ˜¯æœ€å¥½ä¸‰æ–¹ï¼ˆæœåŠ¡æä¾›æ–¹ã€æœåŠ¡ä½¿ç”¨æ–¹ã€ç”¨æˆ·ï¼‰ä¸€èµ·å‚ä¸æ‰æœ€çœŸå®å¯é ï¼Œç®€å•çš„è¯´å°±æ˜¯\n ä¸æ­¢æ ¡éªŒç”¨æˆ·æ˜¯å¦æœ‰æ„æ„¿æ¥å®Œæˆæˆæƒ è¿˜è¦çœ‹æœåŠ¡ä½¿ç”¨æ–¹æ˜¯å¦æ˜¯å¯ä¿¡çš„  ä»¥å…±äº«ç”¨æˆ·å¸å·å¯†ç çš„æ–¹å¼ä¸ºä¾‹ï¼Œé¦–å…ˆåªæœ‰å®Œå…¨å¯ä¿¡çš„ç¬¬ä¸‰æ–¹ï¼ˆæœåŠ¡ä½¿ç”¨æ–¹ï¼‰æ‰èƒ½å…±äº«å¸å·å¯†ç ï¼Œä½†ç”¨æˆ·æ˜¯å¦çœŸçš„æœ‰æ„æ„¿ä½¿ç”¨åŠŸèƒ½é‚£å°±ä¸å¾—è€ŒçŸ¥äº†ï¼ˆé—®é¢˜3ï¼‰ã€‚\né‚£ä¹ˆå¦‚ä½•åšåˆ°è¿™äº›å‘¢ï¼Ÿ\nä»OAuth2 æˆæƒç æ¨¡å¼ä¸­å¯ä»¥æ€»ç»“å‡ºäº†è¿™æ ·çš„ç­”æ¡ˆï¼š\n æœåŠ¡ä½¿ç”¨æ–¹åœ¨æœåŠ¡æä¾›æ–¹æ³¨å†Œè‡ªå·±çš„èº«ä»½ä¿¡æ¯ç”¨äºéªŒè¯æ˜¯å¦å¯ä¿¡ï¼ˆclient_idã€client_sercetç­‰ï¼‰ é€šè¿‡é‡å®šå‘é¡µé¢è®©ç”¨æˆ·ç¡®è®¤æˆæƒä¿¡æ¯ï¼ˆç”¨æˆ·ä¿¡æ¯é€šè¿‡ç”¨æˆ·ç™»å½•æˆ–è€…å·²ç™»å½•çš„ä¼šè¯è·å¾—ï¼Œä»è€Œå…³è”ç”¨æˆ·ä¿¡æ¯å’ŒæœåŠ¡ä½¿ç”¨æ–¹ï¼‰  å‰é¢è¯´åˆ°ç›´æ¥ä¸å¤šä¸ªå¤–éƒ¨ç³»ç»Ÿå…±äº«ç”¨æˆ·å¸å·å¯†ç çš„æ–¹å¼å°†é¢ä¸´çš„é—®é¢˜ï¼Œæ­£å¥½å¯ä»¥åŸºäºä»¥ä¸Šä¸¤ç‚¹æ¥è§£å†³ï¼š\n ç”¨æˆ·æ›´æ”¹å¯†ç ï¼Œå¹¶ä¸å½±å“ç¬¬ä¸‰æ–¹ç³»ç»Ÿï¼ˆè¢«æˆæƒæ–¹ï¼‰åœ¨æœåŠ¡æä¾›æ–¹å·²æ³¨å†Œçš„èº«ä»½ä¿¡æ¯ï¼Œä¸¤è€…æ˜¯ç‹¬ç«‹çš„ å„ç¬¬ä¸‰æ–¹ç³»ç»Ÿï¼ˆè¢«æˆæƒæ–¹ï¼‰åœ¨æœåŠ¡æä¾›æ–¹æ³¨å†Œçš„ä¿¡æ¯ä¹Ÿæ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œé™åˆ¶å…¶ä¸­ä¸€ä¸ªå¹¶ä¸å½±å“å…¶ä»–ç¬¬ä¸‰æ–¹ç³»ç»Ÿ ä¸æ­¢ç¬¬ä¸‰æ–¹ç³»ç»Ÿï¼Œç”¨æˆ·ä¹Ÿå‚ä¸äº†æˆæƒï¼ˆé‡å®šå‘é¡µé¢éªŒè¯ç”¨æˆ·èº«ä»½ï¼‰ ç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„æ„æ„¿æ¥ç¡®è®¤æ˜¯å¦æˆæƒï¼ˆæ¯”å¦‚æˆäºˆä¿®æ”¹å¯†ç çš„æƒé™ï¼‰  å½“ç„¶ä¸èƒ½é¿å…çš„æ˜¯å¼•å…¥éœ€è¦è€ƒè™‘çš„æ–°é—®é¢˜ï¼š\n å¦‚ä½•é¿å…ç¬¬ä¸‰æ–¹ç³»ç»Ÿèº«ä»½ä¿¡æ¯çš„æ³„éœ²ã€è¢«ç›—ç”¨çš„æƒ…å†µï¼ˆç±»ä¼¼ç”¨æˆ·å¸å·å¯†ç æ³„éœ²çš„æƒ…å†µï¼‰ ç”¨æˆ·ç›´æ¥å‚ä¸æˆæƒéªŒè¯ï¼Œäº¤äº’ä¼šæ›´åŠ å¤æ‚ï¼Œç»™å¤–éƒ¨çš„å¯ä¹˜ä¹‹æœºå°±è¶Šå¤š ç”¨æˆ·çš„æ¯æ¬¡æˆæƒçš„æ—¶æ•ˆæ€§ï¼ˆåªæœ‰ä¸€æ®µæ—¶é—´å†…å¯ç”¨ï¼Œé¿å…ä¸€æ¬¡æˆæƒä¸€ç›´ä½¿ç”¨ï¼Œå½“ç„¶ä¹Ÿå­˜åœ¨ç‰¹æ®Šåœºæ™¯ï¼‰ å¦‚ä½•é¿å…ç”¨æˆ·è¢«é’“é±¼æˆæƒï¼ˆç”¨æˆ·åœ¨æœ¬ç³»ç»Ÿå·²ç™»å½•è®¤è¯è¿‡ï¼Œç„¶ååœ¨äº’è”ç½‘ç‚¹å‡»æ”»å‡»è€…æ”¾ç½®çš„é’“é±¼é“¾æ¥ä»¥è·å–å…¶ä»–æ­£è§„ç½‘ç«™çš„æˆæƒï¼‰  ç­‰ç­‰ä¸€ç³»åˆ—é—®é¢˜ï¼Œä¸è¿‡ç°åœ¨ä¸éœ€å¤ªè¿‡æ·±å…¥åœ¨æ„ã€‚\nä»¥ä¸Šæ˜¯ä¸ªäººå­¦ä¹ OAuth2.0æˆæƒç æ¨¡å¼åŒæ—¶æ€è€ƒçš„æ€»ç»“ï¼Œæ€»è€Œè¨€ä¹‹æˆæƒè¿‡ç¨‹çš„éœ€è¦è€ƒè™‘ï¼š\n æœåŠ¡ä½¿ç”¨æ–¹æ˜¯å¦æ˜¯å¯ä¿¡çš„ ç”¨æˆ·ä¿¡æ¯æ˜¯å¦çœŸå® ç”¨æˆ·æ˜¯å¦æœ‰æ„æ„¿æ¥å®Œæˆæˆæƒ äº’è”ç½‘çš„ä¸€äº›å®‰å…¨é—®é¢˜  æ³¨ï¼šå¦‚æœå·²ç»äº†è§£è¿‡OAuth2.0çš„å¯†ç æ¨¡å¼ï¼Œæˆ–è®¸ä¼šæ³¨æ„åˆ°è¯¥æ¨¡å¼å¹¶æ²¡æœ‰éªŒè¯æœåŠ¡ä½¿ç”¨æ–¹çš„ä¿¡æ¯ï¼ˆclient_idã€client_sercetç­‰ï¼‰ï¼Œå¯ä»¥è¯´æ˜¯ä»ä¼ ç»Ÿçš„ç”¨æˆ·å¸å·å¯†ç éªŒè¯æ¼”å˜æ¥çš„ï¼Œèƒ½æä¾›å¸å·å¯†ç æ—¢æ˜¯å¯ä¿¡çš„ï¼ˆè¢«ç›—å’Œæ³„éœ²å¦è¯´ï¼‰ï¼Œå®˜æ–¹æ–‡æ¡£ä¸Šè¯´æ˜(éœ€ä¿å¯†å°±ç”¨æˆæƒç æ¨¡å¼)ï¼š\n If the client type is confidential or the client was issued client\ncredentials (or assigned other authentication requirements), the\nclient MUST authenticate with the authorization server as described\nin Section 3.2.1.\n OAuth2.0æˆæƒ é¦–å…ˆï¼Œå’Œä¸Šé¢æ€è€ƒæ€ä¹ˆæˆæƒä¹‹å‰ä¸€æ ·ï¼ŒOAuth2.0å¯¹æ¶‰åŠçš„è§’è‰²ç»™å‡ºäº†ç›¸å…³å®šä¹‰ã€‚\n resource owner: èµ„æºæ‹¥æœ‰è€…ï¼Œå¯ä»¥ç†è§£æˆå¸¸è§çš„ç”¨æˆ·ã€‚\nclientï¼šå®¢æˆ·ç«¯ï¼Œè¯·æ±‚è¢«æˆæƒçš„åº”ç”¨ã€‚å¯ä»¥ç†è§£æˆæƒæœåŠ¡çš„ä½¿ç”¨æ–¹ã€‚\nresource serverï¼šå®é™…æä¾›èµ„æºæ•°æ®çš„æœåŠ¡å™¨\nauthorization server: æˆæƒæœåŠ¡å™¨\n åœ¨æˆ‘çš„ç†è§£ä¸­ï¼Œresource server+authorization serverå¯ä»¥åˆç§°ä¸ºæœåŠ¡æä¾›æ–¹ï¼Œå› ä¸ºè¿™ä¸¤è€…éƒ½æ˜¯ç”±å…¶æä¾›çš„ã€‚åªæ˜¯è¿™é‡Œçš„å®šä¹‰æ›´åŠ è¯¦ç»†å…·ä½“ã€‚\nå†çœ‹OAuth 2.0çš„æŠ½è±¡è¿è¡Œæµç¨‹å¦‚ä¸‹å›¾ï¼Œæ‘˜è‡ªRFC 6749ã€‚\n\nè¿™ä¸ªå›¾æˆ‘åœ¨æˆ‘å­¦ä¹ OAuth2.0çš„æ•´ä¸ªè¿‡ç¨‹ä¸­è‡³å°‘çœ‹åˆ°è¿‡äº”æ¬¡ï¼Œç„¶è€Œå°±ç®—ä¸€éåˆä¸€éå…¶ä¸­çš„æ¯ä¸€æ­¥çš„æ„ä¹‰ï¼Œå§‹ç»ˆæ„Ÿè§‰è‡ªå·±å“ªé‡Œä¸æ˜ç™½ï¼ˆä¸çŸ¥é“æœ‰äººè·Ÿæˆ‘ä¸€æ ·ä¸ï¼‰\nèµ·åˆæˆ‘æœ‰äº›å›°æƒ‘è¿™ä¸ªå›¾ä¸ºå•¥å’Œè‡ªå·±å°è±¡ä¸­çš„OAuth2.0æˆæƒæµç¨‹ä¸ä¸€æ ·ï¼Œå‡ ç»æ€è€ƒè¿˜æ˜¯æš‚æ—¶æ”¾åœ¨ä¸€è¾¹\nåæ¥æ‰é€æ¸ååº”è¿‡æ¥è¿™ä¸è¿‡æ˜¯æŠ½è±¡çš„æˆæƒåè®®æµç¨‹ï¼ˆå°è±¡ä¸­çš„æ˜¯å‡ ä¸ªæ¨¡å¼å…·ä½“çš„æµç¨‹ï¼‰\nä½†ç´§æ¥ç€æˆ‘åˆç–‘æƒ‘äº†ï¼šä¸ºä»€ä¹ˆæŠ½è±¡çš„æˆæƒåè®®æµç¨‹æ˜¯è¿™æ ·çš„ï¼Ÿä¸å‡ ä¸ªæ¨¡å¼å…·ä½“çš„æµç¨‹å·®å¼‚è¿™ä¹ˆå¤§ï¼Ÿè¿™æ ·çš„æµç¨‹æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ\næŠ½è±¡çš„æˆæƒæµç¨‹æ¢è¨€ä¹‹æ„å‘³ç€æœ€ç¬¦åˆç†æƒ³æ•ˆæœçš„æµç¨‹ï¼Œæ‰€ä»¥æˆ‘åè¿‡æ¥æ€è€ƒä»€ä¹ˆæ˜¯ç†æƒ³çš„æˆæƒæ•ˆæœï¼Ÿé€šå¸¸çš„æˆæƒæ–¹å¼åˆæœ‰å“ªé‡Œä¸å°½äººæ„ï¼Ÿè¯¥æ€æ ·æˆæƒï¼Ÿ\næˆ‘ä¸æƒ³ä¸€æ¥å°±è§£é‡Šï¼ˆæˆ–è€…è¯´ç¿»è¯‘ï¼‰å›¾ä¸­æ¯ä¸€æ­¥çš„æ„ä¹‰ï¼Œå°†è‡ªå·±ä»£å…¥ä½“éªŒç”Ÿæ´»ä¸­çš„â€œæˆæƒâ€åå†ç±»æ¯”å›¾ä¾‹ï¼Œæ›´ä»¤è‡ªå·±ä½“ä¼šæ·±åˆ»ï¼ˆä¿—ç§°ä¸¾ä¸ªæ —å­ï¼‰ã€‚\nè®¾æƒ³ä¸€ä¸ªæƒ…æ™¯ï¼šæ‰¾äººè£…ä¿® è§’è‰²ï¼š 1. æˆ‘ä»¬ï¼šé«˜å¤§ä¸Šå°åŒºçš„ç‰©ä¸šå’Œé—¨å« 2. å¼ ä¸‰ï¼šä»–åœ¨æˆ‘ä»¬å°åŒºåˆšä¹°äº†å¥—æ–°æˆ¿ï¼Œå¹³æ—¶996 3. æå››ï¼šè€å®å·´äº¤ä¸“é—¨æ¥ç§æ´»å¹²çš„è£…ä¿®å·¥ äº‹ä»¶ï¼šå¼ ä¸‰è¯·æå››å¸®ä»–è£…ä¿®æˆ¿å­ æ˜ŸæœŸä¸€æ—©ä¸Š10ç‚¹ï¼Œæå››æ‹ç€ä»–çš„éº»è¢‹æ¥ç»™å¼ ä¸‰å¹²æ´»ã€‚ æˆ‘ä¸€ç§ï¼Œè¿™ä¹ˆå¤§ä¸€ä¸ªéº»è¢‹å¹²å˜›çš„ï¼Œéš¾ä¸æˆæ˜¯äººå£è´©å­ï¼Ÿä¸è¡Œï¼Œå¾—å¥½å¥½ç›˜é—®ç›˜é—®ï¼šâ€œä½ è°ï¼Ÿæ¥è¿™å¹²å˜›å¾—ï¼Ÿâ€ã€‚ æå››æ†¨åšä¸€ç¬‘é“ï¼šâ€œæˆ‘æ˜¯æ¥è£…ä¿®å¾—ï¼Œå¼ ä¸‰è¯·æˆ‘æ¥çš„ï¼Œå°±æ˜¯1æ ‹2å•å…ƒ3æ¥¼4æˆ·çš„ä¸šä¸»â€ã€‚ 1234å·ä¸šä¸»ä¸åˆšå¥½æ˜¯ç‰©ä¸šä¸Šé¢é‚£æˆ·ç¨‹åºçŒ¿å—ï¼Œç¡®å®æ˜¯åˆšä¹°æˆ¿å­è¿˜æ²¡è£…ï¼Œæœ€è¿‘å¸¸æ¥ç‰©ä¸šè½¬æ‚ è¿˜ç®—æŒºç†Ÿçš„ï¼Œæˆ‘ä¸€çš±çœ‰ï¼Œåˆšæƒ³å¼€å£å†é—®æ—¶ï¼Œå°±è§ä»–æ”¾ä¸‹éº»è¢‹ï¼ŒæŠ½è£¤å…œé‡Œæå‡ºä¸€å¼ å¯¹åŠæŠ˜çš„æ•´æ•´é½é½çš„çº¸æ¡é€’ç»™æˆ‘ã€‚ â€œè¿™æ˜¯å¼ ä¸‰ä»–ç»™æˆ‘çš„å§”æ‰˜ä¹¦ï¼Œä½ ç»™çœ‹çœ‹å‘¢ã€‚â€ä»–æ†¨ç¬‘ç€æ‘¸äº†æ‘¸åè„‘å‹ºè¯´åˆ°ã€‚ æˆ‘æ¥è¿‡çº¸æ¡å±•å¼€ä¸€çœ‹çœ‰å¤´ä¸€å±•ï¼Œè¿™æ­ªä¸ƒæ‹å…«çš„å­—ç¡®å®æ˜¯é‚£è‹¦é€¼ç¨‹åºçŒ¿å¼ ä¸‰çš„çœŸè¿¹ï¼Œè€Œä¸”è¿™äººè€å®å·´äº¤çš„çœ‹ä¹Ÿä¸åƒå‡è¯ã€‚â€œè¡Œå§ï¼Œè¿™å§”æ‰˜ä¹¦æˆ‘å°±æ”¶ä¸‹äº†ï¼Œä½ è·Ÿæˆ‘å»ç‰©ä¸šæ¥åŠä¸ªä¸´æ—¶å·¥ä½œè¯ï¼Œåé¢å°±ç”¨å®ƒè¿›å‡ºå§ã€‚â€ äºæ˜¯æå››è€è€å®å®è·Ÿç€æˆ‘åŠäº†è¯ï¼Œå¤©å¤©æ‹¿ç€ä»–çš„ä¸´æ—¶å‡ºå…¥è¯å‹¤å‹¤æ³æ³å»å¸®å¼ ä¸‰è£…æˆ¿å­å»äº†ã€‚ å¯ä»¥ä»£å…¥ä¸åŒè§’è‰²å»æ€è€ƒï¼Œè¿™é‡Œä»ç‰©ä¸šé—¨å«çš„è§’åº¦è€ƒè™‘ï¼Œæ˜¯ä¸ºäº†ç¡®ä¿å°åŒºå†…çš„æ‰€æœ‰å±…æ°‘çš„å®‰å…¨ï¼Œä¸åªæ˜¯ç‰¹ä¾‹å¼ ä¸‰ã€‚\næ•´ç†ä¸‹å‡ è€…ä¹‹é—´æ˜¯å¦‚ä½•äº¤äº’çš„ï¼š\n å¼ ä¸‰ã€æå››æ—©å°±çŸ¥é“æå››æ˜¯æ²¡æ³•ç›´æ¥è¿›å°åŒºçš„ï¼Œæ‰€ä»¥å¼ ä¸‰äº‹å…ˆç»™æå››æ•´äº†ä¸€å¼ èƒ½è¯å®å¼ ä¸‰èº«ä»½å¹¶è¯´æ˜æå››äº‹ç”±çš„å§”æ‰˜ä¹¦ã€‚ æå››å°†å§”æ‰˜ä¹¦äº¤ç”±äº¤ç”±é—¨å«è¿›è¡ŒéªŒè¯çœŸå®æ€§ï¼Œå¹¶ä¸ºå…¶åŠç†ä¸´æ—¶å‡ºå…¥è¯ã€‚ æå››ä½¿ç”¨ä¸´æ—¶èº«ä»½è¯å¼€å§‹è‡ªå·±çš„å·¥ä½œ  å†çœ‹OAuth2.0æŠ½çº¿æµç¨‹å›¾ï¼š\nAï¼šClientæ‰¾Resource Ownerè¦ä¸€ä¸ªè¯æ˜ï¼Œä¸ºäº†å®Œæˆä»–å§”æ‰˜è‡ªå·±åŠçš„äº‹ Bï¼šResource Ownerç»™Clientä¸€ä¸ªè¯æ˜ï¼Œè¿™ä¸ªè¯æ˜åŒæ—¶è®°å½•äº†å§”æ‰˜äººã€è¢«å§”æ‰˜äººã€å§”æ‰˜äº‹é¡¹ç­‰ Cï¼šClientå°†è¯æ˜ç»™Authorization serverè¿›è¡ŒéªŒè¯ï¼ˆè¿™é‡Œåªæ˜¯æŠ½è±¡æµç¨‹ï¼ŒéªŒè¯çœŸå®æ€§çš„æ–¹å¼ä¸éœ€å¤ªè¿‡æ·±å…¥ï¼‰ Dï¼šAuthorization serverè§‰å¾—è¯æ˜æ²¡å•¥é—®é¢˜ï¼Œå†ç»™äº†Clientæ•´ä¸ªä¸´æ—¶è®¿é—®çš„ä»¤ç‰Œç”¨ Eï¼šClientæ‹¿ç€ä»¤ç‰Œåˆ°Resource serverç¡®è®¤ï¼Œå¹¶å‘ŠçŸ¥ä»–æƒ³å¹²å˜› Fï¼šResource serverå°†Clientæƒ³è¦çš„ç»“æœæ•°æ® è¿™ä¸å°±åƒï¼š\n å¼ ä¸‰æ˜¯Resource Owner æå››æ˜¯Client ç‰©ä¸šé—¨å«æ˜¯Authorization server  æˆ–è®¸ä½ ä¼šåœ¨æ„Resource serverä½“ç°åœ¨å“ªï¼Œæ˜¯é—¨å«ï¼Ÿæˆ¿å­ï¼ŸEã€Fæ­¥éª¤æ€ä¹ˆä½“ç°ï¼Ÿ\nè¯•æƒ³å¼ ä¸‰è€å©†å¤©å¤©åœ¨å®¶ï¼Œå¥¹çŸ¥é“å¼ ä¸‰è¯·äº†è£…ä¿®å·¥ï¼Œä½†åˆ°åº•æ˜¯è°åˆä¸æ¸…æ¥šï¼Œæ‰€ä»¥æå››æ¥çš„æ—¶å€™è¿˜æ˜¯éœ€è¦æŠŠå·¥ä½œè¯æ˜ç»™å¥¹çœ‹çœ‹æ‰èƒ½è¿›å±‹ï¼ˆå¥¹å¾ˆä¿¡ä»»é—¨å«ï¼Œæ¯•ç«Ÿéƒ½å¾ˆæœ‰è´£ä»»å¿ƒï¼‰ã€‚\nè¿™æ ·çš„æˆæƒæµç¨‹å¾ˆç¬¦åˆç†æƒ³çš„æ•ˆæœï¼Œä½†æ˜¯è¿˜éœ€è¦è€ƒè™‘æ›´åŠ å…·ä½“ç°å®çš„é—®é¢˜\nBæ­¥éª¤ä¸­Clientçš„è¯æ˜ï¼Œæ˜¯ä¸æ˜¯ä»–ä¼ªé€ çš„ï¼Œå°±å¥½æ¯”çœ‹ä¼¼äººç•œæ— å®³çš„æå››å®é™…æ˜¯ä¸€ä¸ªè¯ˆéª—è€æ‰‹ï¼Œæ“…é•¿æ¨¡ä»¿å„ç§å­—è¿¹å‘¢ï¼Ÿæˆ–è€…å·çš„åˆ«äººå†’åé¡¶æ›¿çš„å‘¢ï¼Ÿ\næ‰€ä»¥è¿™ä¸ªæŠ½è±¡çš„æˆæƒæµç¨‹éš¾ç‚¹æ— ç–‘åœ¨äºå¦‚ä½•ä¿è¯Bæ­¥éª¤ä¸­çš„\nOAuth 2.0 Endpoints\nè§£æƒ‘   Q:ä¸ºä»€ä¹ˆè¦åˆ†æˆæƒæœåŠ¡ä¸­å¿ƒå’Œèµ„æºæœåŠ¡å™¨ï¼Ÿ\n  Q:ä¸ºä»€ä¹ˆéœ€è¦æœ‰ä¸€æ­¥Authorization Grantï¼Œå†æ¢å–Access token\né¦–å…ˆï¼Œè‚¯å®šæ˜¯ä¸ºäº†å®‰å…¨ï¼\næˆæƒè®¤è¯éœ€è¦client_idã€client_sercetï¼Œè€Œè·å–Authorization Granté€šå¸¸æ˜¯é€šè¿‡æµè§ˆå™¨ï¼Œç›´æ¥ä¼ è¾“client_sercetæ˜¯ä¸å®‰å…¨çš„ï¼Œæ‰€ä»¥åœ¨æ­¤é˜¶æ®µæ˜¯æ²¡æœ‰å‚ä¸è®¤è¯æ ¡éªŒï¼Œåœ¨åº”ç”¨æœåŠ¡å™¨ä¸Šè¿˜éœ€è¦ç”¨client_sercetã€Authorization Grantç­‰ä¿¡æ¯å†ä¸€æ­¥è·å–Access tokenï¼Œè¿™æ˜¯ä¸ºäº†ä¿è¯client_sercetä¸è¢«æ³„éœ²ï¼åŒæ—¶ä¹ŸéªŒè¯äº†åº”ç”¨ç¨‹åºæœåŠ¡å™¨çœŸå®æ€§ã€‚\n  Q:ä¸ºä»€ä¹ˆç®€åŒ–æ¨¡å¼ä¸æ ¡éªŒclient_sercetç›´æ¥è·å–åˆ°Access token?\n  stackoverflow\n  Q:ç®€åŒ–æ¨¡å¼çš„tokenè·å–è„šæœ¬æŒ‡çš„æ˜¯ä»æˆæƒæœåŠ¡å™¨è¿˜æ˜¯èµ„æºæœåŠ¡å™¨?\n  Q:èµ„æºæœåŠ¡å™¨å¦‚ä½•ç¡®è®¤ä»¤ç‰Œæ˜¯å¦çœŸå®æœ‰æ•ˆï¼Ÿ\n  Q:å…³äºå‚æ•°stateæœ‰ä»€ä¹ˆæ„ä¹‰\nä¿æŒè¯·æ±‚è®¾å¤‡ä¸€è‡´æ€§\nä¹Ÿå°±æ˜¯é˜²æ­¢CSRFæ”»å‡»ï¼Œç®€å•çš„è¯´å°±æ˜¯æ”»å‡»è€…ç”¨ä»–å·²æœ‰çš„å¸å·å’Œä»–çš„stateå‘æˆæƒæœåŠ¡å™¨ç”³è¯·Authorization Grantåï¼Œç”¨å…¶ä¼ªé€ ä¸€ä¸ªé“¾æ¥è®©ç”¨æˆ·ç‚¹å‡»ï¼Œè¿™æ ·ç”¨æˆ·ä»¥ä¸ºä»–æˆæƒçš„æ˜¯è‡ªå·±å¸å·ï¼Œä½†å®é™…æ˜¯æ”»å‡»è€…ä¸“é—¨çš„å¸å·ï¼Œä¹‹åç”¨æˆ·çš„æ‰€æœ‰æ“ä½œéƒ½å¯è¢«æ”»å‡»è€…çœ‹è§ï¼Œå¦‚æœå‘è¯¥å¸å·æ¨é€æ•°æ®ï¼ˆæ¯”å¦‚ä¿å­˜æ–‡ä»¶ï¼Œå¯†ç ï¼Œè½¬è´¦ç­‰ç­‰ï¼‰ï¼Œé‚£å°±å®Œè›‹äº†ï¼æ‰€ä»¥è¯´å¯¹stateè¿›è¡Œæ ¡éªŒæ˜¯æœ‰å¿…è¦çš„ï¼Œè¦æ˜¯ä¼ å‡ºçš„å’Œä¼ å…¥çš„stateä¸ç­‰ï¼Œé‚£ç›´æ¥æ‹’ç»å°±å®Œäº‹äº†!\nä¸ªäººè§‰å¾— state å¦‚æœä¸ºå›ºå®šå€¼çš„è¯æ„ä¹‰ä¸å¤§ï¼Œæ”»å‡»è€…çŸ¥é“äº†å°±å½¢åŒæ‘†è®¾ï¼Œæœ€å¥½æ˜¯åŠ¨æ€çš„ï¼\nå¯ä»¥ä»ä»¥ä¸‹æ–‡ç« ä¸­äº†è§£æ›´å¤š\n å…³äº OAuth2.0 å®‰å…¨æ€§ä½ åº”è¯¥è¦çŸ¥é“çš„ä¸€äº›äº‹ ç§»èŠ±æ¥æœ¨ï¼šé’ˆå¯¹OAuth2çš„CSRFæ”»å‡» æŠ€æœ¯å¹²è´§ | OAuth2.0çš„å®‰å…¨è§£æ    Q:èµ„æºæœåŠ¡å™¨åœ¨æ¥å—æ¯ä¸ªè¯·æ±‚æ—¶ï¼Œæ˜¯æ€ä¹ˆåˆ¤æ–­ä»¤ç‰Œçš„çœŸå®æœ‰æ•ˆæ€§çš„ï¼Ÿ\n  å‚è€ƒ  OAuth 2.0 çš„ä¸€ä¸ªç®€å•è§£é‡Š - é˜®ä¸€å³° ç†è§£OAuth2.0 - é˜®ä¸€å³° OAuth 2.0 çš„å››ç§æ–¹å¼ - é˜®ä¸€å³° OAuth2.0 è¯¦è§£ - çŸ¥ä¹ The OAuth 2.0 Authorization Framework - rfc6749 ä»â€œé»‘æ‰Githubâ€å­¦Webå®‰å…¨å¼€å‘ OAuth 2.0 Tutorial å…³äº OAuth2.0 å®‰å…¨æ€§ä½ åº”è¯¥è¦çŸ¥é“çš„ä¸€äº›äº‹ - chrisyue ç§»èŠ±æ¥æœ¨ï¼šé’ˆå¯¹OAuth2çš„CSRFæ”»å‡» æŠ€æœ¯å¹²è´§ | OAuth2.0çš„å®‰å…¨è§£æ  ","permalink":"https://zone.dnfn.tech/2021/07/202107171742448/","summary":"\u003ch2 id=\"ç®€ä»‹\"\u003eç®€ä»‹\u003c/h2\u003e\n\u003cp\u003eè®°å½•ä¸‹æˆæƒ\u003ccode\u003eoauth2\u003c/code\u003eçš„ç†è§£ï¼Œè¿˜æœ‰è‡ªå·±çš„ç–‘é—®ç­‰ç­‰ã€‚\u003c/p\u003e","title":"OAuth2"},{"content":"ç®€ä»‹ æœ¬æ–‡è®°å½•äº†ThreadGroupçš„ä½œç”¨å’Œç‰¹æ€§ï¼Œå®ƒå’Œçº¿ç¨‹æ± çš„åŒºåˆ«ã€‚\nå‰è¨€ åŒäº‹çªç„¶é—®æˆ‘çº¿ç¨‹ç»„ThreadGroupä¸çº¿ç¨‹æ± ThreadPoolæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåˆæœ‰å•¥ä½œç”¨ï¼Ÿ\nè¯´å®è¯ï¼Œç¡®å®è‡ªå·±ç†è§£çš„ä¸å¤Ÿæ¸…æ™°ï¼Œè®¨è®ºè¿‡åæ•´ç†è®°å½•ä¸‹è‡ªå·±çš„ç†è§£\nå„è‡ªçš„æ„ä¹‰ å­—é¢æ„ä¹‰ï¼š\n çº¿ç¨‹æ± ï¼šç©ºé—²çš„çº¿ç¨‹æ”¾åœ¨ä¸€èµ·ç®¡ç† çº¿ç¨‹ç»„ï¼šå¯¹çº¿ç¨‹è¿›è¡Œåˆ†ç»„ç®¡ç†  ä»å®šä¹‰ä¸Šçœ‹ï¼š\n çº¿ç¨‹æ± æ˜¯ä¸€ç§æ± åŒ–å®ç°ï¼Œä¸ºäº†é‡å¤åˆ©ç”¨ç©ºé—²çš„çº¿ç¨‹èµ„æºï¼Œé¿å…ç³»ç»Ÿé¢‘ç¹åˆ›å»ºçº¿ç¨‹é€ æˆçš„å¤§é‡èµ„æºæ¶ˆè€—ã€‚ çº¿ç¨‹ç»„æ˜¯ä¸€ä¸ªæŠ½è±¡é›†åˆï¼Œä¸ºäº†ç»Ÿä¸€æ–¹ä¾¿ç®¡ç†å¤šä¸ªçº¿ç¨‹ã€‚  å½“ç„¶çº¿ç¨‹æ± ä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸€ç±»çº¿ç¨‹çš„é›†åˆï¼Œä¸è¿‡è¿™ç±»é›†åˆä¸çº¿ç¨‹ç»„åŒæ ·æ˜¯æœ‰åŒºåˆ«çš„ï¼š\n çº¿ç¨‹æ± æ˜¯ç©ºé—²çš„çº¿ç¨‹çš„é›†åˆ çº¿ç¨‹ç»„æ˜¯æ‰€æœ‰æ´»åŠ¨ä¸­çš„çº¿ç¨‹å’Œçº¿ç¨‹ç»„çš„é›†åˆ  ä¸ºä»€ä¹ˆæ˜¯æ‰€æœ‰ï¼Ÿ\nJVMå¯åŠ¨æ—¶ä¼šåˆ›å»ºä¸€ä¸ªåä¸ºsystemçš„çº¿ç¨‹ç»„ï¼Œå®ƒå¹¶æ²¡æœ‰parentå¯¹è±¡ã€‚\n/** * Creates an empty Thread group that is not in any Thread group. * This method is used to create the system Thread group. */ private ThreadGroup() { // called from C code  this.name = \u0026#34;system\u0026#34;;  this.maxPriority = Thread.MAX_PRIORITY; this.parent = null; } è€Œåœ¨JVMå¯åŠ¨å®Œæˆåï¼Œç¨‹åºè¿è¡Œæ—¶åˆ›å»ºçš„ThreadGroupä¼šæ”¾å…¥å½“å‰çº¿ç¨‹æ‰€åœ¨çš„çº¿ç¨‹ç»„ï¼Œè¿™æ„å‘³ç€ä¹‹åçš„çº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªparentå¯¹è±¡ã€‚\npublic ThreadGroup(String name) { this(Thread.currentThread().getThreadGroup(), name); } public ThreadGroup(ThreadGroup parent, String name) { this(checkParentAccess(parent), parent, name); } private ThreadGroup(Void unused, ThreadGroup parent, String name) { this.name = name; this.maxPriority = parent.maxPriority; this.daemon = parent.daemon; this.parent = parent; parent.add(this); } è€Œåˆ›å»ºThreadæ—¶ï¼Œé»˜è®¤ä¼šåŠ å…¥å½“å‰çº¿ç¨‹æ‰€åœ¨çš„çº¿ç¨‹ç»„ã€‚\nprivate Thread(ThreadGroup g, Runnable target, String name, long stackSize, AccessControlContext acc, boolean inheritThreadLocals) { // ...  if (g == null) { if (security != null) { /* security.getThreadGroup()æ–¹æ³•ç”¨äºåœ¨è¢«è°ƒç”¨æœŸé—´è¿”å›è¦åœ¨å…¶ä¸­åˆ›å»ºä»»ä½•æ–°çº¿ç¨‹çš„çº¿ç¨‹ç»„ï¼Œå¦åˆ™ï¼Œå½“åœ¨è°ƒç”¨æœŸé—´æ²¡æœ‰ä¸å…¶ç›¸å…³çš„æ–°åˆ›å»ºçº¿ç¨‹æ—¶ï¼Œå®ƒå°†è¿”å›å½“å‰çº¿ç¨‹çš„çº¿ç¨‹ç»„ */ g = security.getThreadGroup(); } /* é»˜è®¤åŠ å…¥çˆ¶çº¿ç¨‹æ‰€åœ¨çš„çº¿ç¨‹ç»„ */ if (g == null) { g = parent.getThreadGroup(); } } /* checkAccess regardless of whether or not threadgroup is explicitly passed in. */ g.checkAccess(); // ...  g.addUnstarted(); this.group = g; // ... } ç”±æ­¤å¯è§JVMå¯åŠ¨æ—¶ä¼šåˆ›å»ºä¸€ä¸ªé»˜è®¤åä¸ºsystemçš„çº¿ç¨‹ç»„ï¼Œç”±è¿™ä¸ªçº¿ç¨‹ç»„ä¸€ç›´å¾€ä¸‹åˆ›å»ºThreadå’ŒThreadGroupï¼Œèƒ½å¤Ÿæƒ³è±¡è¿™å½¢æˆçš„æ˜¯ä¸€ä¸ªæ ‘ç»“æ„ï¼Œæ ¹èŠ‚ç‚¹ä¾¿æ˜¯è¿™ä¸ªsystemçš„çº¿ç¨‹ç»„ã€‚\n\nä¸ºä»€ä¹ˆæ—¶æ´»åŠ¨ä¸­?\nçº¿ç¨‹åªæœ‰æ‰§è¡Œstartæ—¶æ‰ä¼šåŠ å…¥ThreadGroupï¼Œè€Œå½“å…¶é€€å‡ºåˆ™ä¼šè¢«ç§»å‡ºã€‚\n// Thread.class public synchronized void start() { /** * This method is not invoked for the main method thread or \u0026#34;system\u0026#34; * group threads created/set up by the VM. Any new functionality added * to this method in the future may have to also be added to the VM. * * A zero status value corresponds to state \u0026#34;NEW\u0026#34;. */ if (threadStatus != 0) throw new IllegalThreadStateException(); /* Notify the group that this thread is about to be started * so that it can be added to the group\u0026#39;s list of threads * and the group\u0026#39;s unstarted count can be decremented. */ group.add(this);  boolean started = false; try { start0(); started = true; } finally { try { if (!started) { group.threadStartFailed(this);  } } catch (Throwable ignore) { /* do nothing. If start0 threw a Throwable then it will be passed up the call stack */ } } } // Thread.class private void exit() { if (threadLocals != null \u0026amp;\u0026amp; TerminatingThreadLocal.REGISTRY.isPresent()) { TerminatingThreadLocal.threadTerminated(); } if (group != null) { group.threadTerminated(this);  group = null; } /* Aggressively null out all reference fields: see bug 4006245 */ target = null; /* Speed the release of some of these resources */ threadLocals = null; inheritableThreadLocals = null; inheritedAccessControlContext = null; blocker = null; uncaughtExceptionHandler = null; } // ThreadGroup.class void threadStartFailed(Thread t) { synchronized(this) { remove(t);  nUnstartedThreads++; } } void threadTerminated(Thread t) { synchronized (this) { remove(t);  if (nthreads == 0) { notifyAll(); } if (daemon \u0026amp;\u0026amp; (nthreads == 0) \u0026amp;\u0026amp; (nUnstartedThreads == 0) \u0026amp;\u0026amp; (ngroups == 0)) { destroy(); } } } å„è‡ªçš„ä½œç”¨ çº¿ç¨‹æ± çš„ä½œç”¨ä¸Šé¢å·²ç»è¯´è¿‡äº†ï¼Œæ˜¯ä¸ºäº†å‡å°ç³»ç»Ÿé¢‘ç¹åˆ›å»ºçº¿ç¨‹å¸¦æ¥çš„èµ„æºæ¶ˆè€—ï¼Œè€Œçº¿ç¨‹ç»„ä¸ºäº†ç»Ÿä¸€æ–¹ä¾¿çš„ç®¡ç†ç»„å†…å¤šä¸ªçº¿ç¨‹æä¾›å¾ˆå¤šæ–¹æ³•ï¼š\n   è¿”å›ç±»å‹ æ–¹æ³• æè¿°     void suspend() æš‚åœæ‰€æœ‰çº¿ç¨‹   void resume() æ¢å¤æ‰€æœ‰çº¿ç¨‹   void stop() åœæ­¢æ‰€æœ‰çº¿ç¨‹   void interrupt() ä¸­æ–­æ‰€æœ‰çº¿ç¨‹   void setMaxPriority(int pri) è®¾ç½®æœ€å¤§ä¼˜å…ˆçº§     æ³¨ï¼š ç”±äºçº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œsuspend()ã€resume() å’Œ stop() éƒ½å·²ç»è¢«æ ‡è®°è¿‡æ—¶äº†ã€‚\n Thread.stopå¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´é—®é¢˜è¢«å¼ƒç”¨\nThread.suspendå’ŒThread.resumeä¹Ÿå®¹æ˜“å¯¼è‡´æ­»é”\nä¸Šé¢çš„æ–¹æ³•éƒ½æ˜¯æ‰¹é‡ä¿®æ”¹ç®¡ç†çº¿ç¨‹çš„ï¼ŒThreadGroupè¿˜æä¾›äº†è®¸å¤šæŸ¥çœ‹çŠ¶æ€çš„æ–¹æ³•\nint activeCount() // è¿”å›æ­¤çº¿ç¨‹ç»„åŠå…¶å­ç»„ä¸­æ´»åŠ¨çº¿ç¨‹æ•°çš„ä¼°è®¡å€¼ int activeGroupCount() //è¿”å›æ­¤çº¿ç¨‹ç»„åŠå…¶å­ç»„ä¸­æ´»åŠ¨çº¿ç¨‹ç»„æ•°çš„ä¼°è®¡å€¼ int enumerate(Thread[] list) // å°†æ­¤çº¿ç¨‹ç»„åŠå…¶å­ç»„ä¸­çš„æ¯ä¸ªæ´»åŠ¨çº¿ç¨‹å¤åˆ¶åˆ°æŒ‡å®šçš„æ•°ç»„ä¸­ int enumerate(Thread[] list, boolean recurse) // å°†æ­¤çº¿ç¨‹ç»„åŠå…¶å­ç»„ä¸­çš„æ¯ä¸ªæ´»åŠ¨çº¿ç¨‹å¤åˆ¶åˆ°æŒ‡å®šçš„æ•°ç»„ä¸­ int enumerate(ThreadGroup[] list) // å°†æ­¤çº¿ç¨‹ç»„åŠå…¶å­ç»„ä¸­çš„æ¯ä¸ªæ´»åŠ¨çº¿ç¨‹ç»„å¤åˆ¶åˆ°æŒ‡å®šçš„æ•°ç»„ä¸­ int enumerate(ThreadGroup[] list, boolean recurse) // å°†æ­¤çº¿ç¨‹ç»„åŠå…¶å­ç»„ä¸­çš„æ¯ä¸ªæ´»åŠ¨çº¿ç¨‹ç»„å¤åˆ¶åˆ°æŒ‡å®šçš„æ•°ç»„ä¸­ void list() // å°†æœ‰å…³æ­¤çº¿ç¨‹ç»„çš„ä¿¡æ¯æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºã€‚ å­—æ®µå±æ€§ public class ThreadGroup implements UncaughtExceptionHandler { // çˆ¶çº¿ç¨‹ç»„å¯¹è±¡  private final ThreadGroup parent; // çº¿ç¨‹ç»„å  String name; // æœ€é«˜ä¼˜å…ˆçº§  int maxPriority; // æ˜¯å¦å·²é”€æ¯  boolean destroyed; // æ˜¯å¦å®ˆæŠ¤çº¿ç¨‹ç»„  boolean daemon; // è™šæ‹Ÿæœºè‡ªåŠ¨æŒ‚èµ·  boolean vmAllowSuspension; // æœªå¯åŠ¨çš„çº¿ç¨‹æ•°é‡  int nUnstartedThreads; // å·²å¯åŠ¨çš„çº¿ç¨‹æ€»æ•°  int nthreads; // å·²å¯åŠ¨çš„çº¿ç¨‹æ•°ç»„  Thread[] threads; // çº¿ç¨‹ç»„æ€»æ•°  int ngroups; // çº¿ç¨‹ç»„æ•°ç»„  ThreadGroup[] groups; // ... methods } å…¶ä¸­ï¼š\n maxPriorityä¸èƒ½å¤§äºparent.maxPriorityï¼Œæ ¹çº¿ç¨‹ç»„çš„maxPriorityä¸º 10 è¿˜å­˜åœ¨è¿è¡Œä¸­çš„çº¿ç¨‹æ—¶æ— æ³•è°ƒç”¨destroyï¼Œæ— æ³•é”€æ¯ï¼Œé”€æ¯æ˜¯é€’å½’çš„ daemonè¡¨ç¤ºä¸ºå®ˆæŠ¤çº¿ç¨‹ç»„ï¼Œä¸çº¿ç¨‹çš„daemonæ— å…³ï¼Œè¯¦è§ å®ˆæŠ¤çº¿ç¨‹ç»„ new Thread(...)å°±ä¼šä½¿nUnstartedThreads++ nthreadsæ˜¯threadsçš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡ï¼Œå½“Thread.start()æ—¶åŠ ä¸€ï¼Œå¹¶å¯è§¦å‘æ‰©å®¹ threadså’Œgroupsåˆå§‹å®¹é‡ä¸º4ï¼Œ2å€æ•°æ‰©å¤§  å®ˆæŠ¤çº¿ç¨‹ç»„ ThreadGroupå’ŒThreadéƒ½æœ‰daemonå±æ€§ï¼ŒThreadGroupåˆå¯ä»¥ç»Ÿä¸€ç®¡ç†Threadï¼Œå¾ˆå®¹æ˜“è®©äººè®¤ä¸ºThreadGroup.setDaemon(boolean)ä¹Ÿæ˜¯å¾ªç¯éå†è®¾ç½®Thread.daemonï¼Œç„¶è€Œå¹¶ä¸æ˜¯è¿™æ ·ï¼ˆä¹‹å‰ç†è§£é”™äº† ğŸ˜‚ï¼‰ã€‚\nåœ¨ThreadGroup.setDaemon(boolean)æºç ä¸Šæœ‰ä¸€æ®µè¯´æ˜ï¼š\n/** * Changes the daemon status of this thread group. * \u0026lt;p\u0026gt; * First, the {@code checkAccess} method of this thread group is * called with no arguments; this may result in a security exception. * \u0026lt;p\u0026gt; * A daemon thread group is automatically destroyed when its last * thread is stopped or its last thread group is destroyed. * * @param daemon if {@code true}, marks this thread group as * a daemon thread group; otherwise, marks this * thread group as normal. * @throws SecurityException if the current thread cannot modify * this thread group. * @see java.lang.SecurityException * @see java.lang.ThreadGroup#checkAccess() * @since 1.0 */ public final void setDaemon(boolean daemon) { checkAccess(); this.daemon = daemon; } å¤§è‡´æ„ä¹‰å°±æ˜¯çº¿ç¨‹ç»„çš„daemonå±æ€§è¡¨ç¤ºå½“å®ƒå†…éƒ¨æ²¡æœ‰activeçš„çº¿ç¨‹æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨é”€æ¯ã€‚\nå½“ä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹ç»„ThreadGroupä¸å­˜åœ¨æ´»åŠ¨ä¸­çš„çº¿ç¨‹æˆ–è€…å­çº¿ç¨‹ç»„æ—¶ï¼Œå®ƒä¼šæ‰§è¡Œé”€æ¯æ–¹æ³•destroy:\nprivate void remove(ThreadGroup var1) { synchronized(this) { if (!this.destroyed) { for(int var3 = 0; var3 \u0026lt; this.ngroups; ++var3) { if (this.groups[var3] == var1) { --this.ngroups; System.arraycopy(this.groups, var3 + 1, this.groups, var3, this.ngroups - var3); this.groups[this.ngroups] = null; break; } } if (this.nthreads == 0) { this.notifyAll(); } if (this.daemon \u0026amp;\u0026amp; this.nthreads == 0 \u0026amp;\u0026amp; this.nUnstartedThreads == 0 \u0026amp;\u0026amp; this.ngroups == 0) { this.destroy();  } } } } void threadTerminated(Thread t) { synchronized (this) { remove(t); if (nthreads == 0) { notifyAll(); } if (daemon \u0026amp;\u0026amp; (nthreads == 0) \u0026amp;\u0026amp; (nUnstartedThreads == 0) \u0026amp;\u0026amp; (ngroups == 0)) { destroy();  } } } ç›¸å…³ ThreadGroup in Java\nJava å¹¶å‘ ä¹‹ çº¿ç¨‹ç»„ ThreadGroup ä»‹ç»\nJavaå¤šçº¿ç¨‹ç³»åˆ—â€”â€”è¿‡æœŸçš„suspend()æŒ‚èµ·ã€resume()ç»§ç»­æ‰§è¡Œçº¿ç¨‹\nThreadGroup\n","permalink":"https://zone.dnfn.tech/2021/06/2021062424104134/","summary":"\u003ch2 id=\"ç®€ä»‹\"\u003eç®€ä»‹\u003c/h2\u003e\n\u003cp\u003eæœ¬æ–‡è®°å½•äº†\u003ccode\u003eThreadGroup\u003c/code\u003eçš„ä½œç”¨å’Œç‰¹æ€§ï¼Œå®ƒå’Œçº¿ç¨‹æ± çš„åŒºåˆ«ã€‚\u003c/p\u003e","title":"ThreadGroup çº¿ç¨‹æ± "},{"content":"ç®€ä»‹ ä¸»è¦è®°å½•äº†ä½¿ç”¨ spring é‡å®šå‘æ—¶é‡åˆ°çš„é—®é¢˜ï¼Œä»¥åŠé‡æ–°ç†Ÿæ‚‰ HTTP 3xx ä¸­é‡å®šå‘çŠ¶æ€ç çš„æ„ä¹‰ã€‚\nå‰è¨€ æœ€è¿‘æ¥æ‰‹çš„ä¸€ä¸ªé¡¹ç›®éœ€è¦åœ¨ POST æ¥å£ä¸­å¤„ç†é€»è¾‘ï¼Œå®Œæˆåè®©æµè§ˆå™¨é‡å®šå‘åˆ°é¦–é¡µï¼Œè¯·æ±‚æ–¹å¼éœ€è¦å˜æˆ GET ã€‚\nç»“æœä¸€ç›´æç¤º 405 æ–¹æ³•ä¸æ”¯æŒã€‚æŠ˜è…¾äº†ä¸ªæŠŠéƒ½æ²¡æ‰¾åˆ°é—®é¢˜åŸå› ï¼Œæ²¡æƒ³åˆ°æ˜¯é‡å®šå‘çš„çŠ¶æ€ç æœ‰é—®é¢˜ã€‚\né—®é¢˜ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨ Springä¸‹é‡å®šå‘åˆ°é¡µé¢æ—¶ä¼šä½¿ç”¨ ModelAndViewï¼Œä¹Ÿå°±æ˜¯è¿™æ ·ï¼š\n@PostMapping(\u0026#34;handle\u0026#34;) public String handle(){ // do something ...  return \u0026#34;redirect:/\u0026#34;; } è¿™ç§ç±»ä¼¼çš„æƒ…å†µä¸‹è¿”å›çš„æ˜¯ï¼š\nPOST http://localhost:8080/tdh-portal/cas HTTP/1.1 302 Found Content-Language: zh-CN Location: http://localhost:8080/ Content-Length: 0 Server: Jetty(9.4.z-SNAPSHOT) \u0026lt;Response body is empty\u0026gt; Response code: 302 (Found); Time: 119ms; Content length: 0 bytes ä¹Ÿä¸çŸ¥é“ä»å“ªé‡Œå¤åˆ¶äº†ä¸€æ®µä»£ç  ğŸ˜‚ ï¼Œä¸»è¦éƒ¨åˆ†å¦‚ä¸‹ï¼š\n@PostMapping(\u0026#34;handle\u0026#34;) public ResponseEntity\u0026lt;?\u0026gt; handle(){ // do something ...  return ResponseEntity .status(HttpStatus.TEMPORARY_REDIRECT) .header(HttpHeaders.LOCATION, \u0026#34;/\u0026#34;) .build(); } å“åº”ä¿¡æ¯åˆ™æ˜¯è¿™æ ·\nPOST http://localhost:8080/handle HTTP/1.1 307 Temporary Redirect Set-Cookie: JSESSIONID=node0123krmz4upibb18jz7ov4us1pw1.node0;Path=/ Expires: Thu, 01 Jan 1970 00:00:00 GMT Location: / Content-Length: 0 Server: Jetty(9.4.z-SNAPSHOT) \u0026lt;Response body is empty\u0026gt; Response code: 307 (Temporary Redirect); Time: 4916ms; Content length: 0 bytes å¯ä»¥çœ‹åˆ°ä¸¤ç§æ–¹å¼ä¸»è¦å“åº”ç ä¸åŒ 302 ä¸ 307ã€‚ç»è¿‡æŸ¥é˜…ç›¸å…³æ–‡æ¡£å‘ç°æ„ä¹‰å¤§ä¸ç›¸åŒï¼š\n   ç¼–ç  å«ä¹‰ å¤„ç†æ–¹æ³•     302 Found GET æ–¹æ³•ä¸ä¼šå‘ç”Ÿå˜æ›´ï¼Œå…¶ä»–æ–¹æ³•æœ‰å¯èƒ½ä¼šå˜æ›´ä¸º GET æ–¹æ³•ã€‚1   307 Temporary Redirect æ–¹æ³•å’Œæ¶ˆæ¯ä¸»ä½“éƒ½ä¸å‘ç”Ÿå˜åŒ–ã€‚    å…¸å‹åº”ç”¨åœºæ™¯ï¼š\n302ï¼šç”±äºä¸å¯é¢„è§çš„åŸå› è¯¥é¡µé¢æš‚ä¸å¯ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœç´¢å¼•æ“ä¸ä¼šæ›´æ–°å®ƒä»¬çš„é“¾æ¥ã€‚\n307ï¼šç”±äºä¸å¯é¢„è§çš„åŸå› è¯¥é¡µé¢æš‚ä¸å¯ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœç´¢å¼•æ“ä¸ä¼šæ›´æ–°å®ƒä»¬çš„é“¾æ¥ã€‚å½“ç«™ç‚¹æ”¯æŒé GET æ–¹æ³•çš„é“¾æ¥æˆ–æ“ä½œçš„æ—¶å€™ï¼Œè¯¥çŠ¶æ€ç ä¼˜äº 302 çŠ¶æ€ç ã€‚\n302 ä¸ 307 æœ€ä¸»è¦çš„ä¸åŒç‚¹åœ¨äºæ–¹æ³•å’Œæ¶ˆæ¯ä½“æ˜¯å¦å‘ç”Ÿå˜åŒ–ã€‚æ‰€ä»¥å¯¼è‡´ç”¨POSTæ–¹æ³•è¯·æ±‚æ¥å£æ—¶æ— æ³•é‡å®šå‘åˆ°ä½¿ç”¨GETæ–¹æ³•çš„é¡µé¢ã€‚\nç»è¿‡æŸ¥çœ‹é‡å®šå‘ç›¸å…³çš„å“åº”ç è§„èŒƒï¼Œä¿®æ”¹ä»£ç ï¼š\n@PostMapping(\u0026#34;handle\u0026#34;) public ResponseEntity\u0026lt;?\u0026gt; handle(){ // do something ...  return ResponseEntity .status(HttpStatus.SEE_OTHER) .header(HttpHeaders.LOCATION, \u0026#34;/\u0026#34;) .build(); } è¿™é‡Œä½¿ç”¨ 303 ä¸»è¦æ˜¯ä¸ºäº†éªŒè¯æˆåŠŸè·³è½¬é˜²æ­¢é‡å¤è§¦å‘ã€‚\nHTTP çš„é‡å®šå‘  ä¸åŒç±»å‹çš„é‡å®šå‘æ˜ å°„å¯ä»¥åˆ’åˆ†ä¸ºä¸‰ä¸ªç±»åˆ«ï¼š\n æ°¸ä¹…é‡å®šå‘ ä¸´æ—¶é‡å®šå‘ ç‰¹æ®Šé‡å®šå‘   æ°¸ä¹…é‡å®šå‘æ„å‘³ç€åŸæ¥çš„URLä¸åº”å†è¢«ä½¿ç”¨ï¼Œè€Œåº”ä¼˜é€‰ç”¨æ–°çš„URLï¼Œè¿™ç§å…³ç³»æ˜¯æ°¸ä¹…æ€§çš„ï¼Œé€šå¸¸åº”ç”¨äºç½‘ç«™é‡æ„,301,308ã€‚\nä¸´æ—¶é‡å®šå‘é¡¾åæ€ä¹‰è¿™ç§å…³ç³»æ˜¯ä¸´æ—¶æ€§çš„ï¼Œæœ‰æ—¶å€™è¯·æ±‚çš„èµ„æºæ— æ³•ä»å…¶æ ‡å‡†åœ°å€è®¿é—®ï¼Œä½†æ˜¯å´å¯ä»¥ä»å¦å¤–çš„åœ°æ–¹è®¿é—®,302,303,307ã€‚\nç‰¹æ®Šé‡å®šå‘æ˜¯æŒ‡ 300 å’Œ 304ï¼Œä¸åŒäºå…¶ä»–æ–¹å¼ç›´æ¥ç»™å®šurlè·³è½¬é‡å®šå‘ï¼Œæ²¡æœ‰ç‰¹å®šçš„å¤„ç†æ–¹å¼ï¼Œä¹Ÿå¯èƒ½è¿”å›å¤šä¸ªèƒ½é‡å®šå‘çš„urlä¾›æ‰‹åŠ¨é€‰æ‹©ã€‚\nå¸¸è§é‡å®šå‘å“åº”ç ï¼š\n   ç¼–ç  å«ä¹‰ è¯´æ˜     300 Multiple Choice ä¸å¸¸ç”¨ï¼šæ‰€æœ‰çš„é€‰é¡¹åœ¨æ¶ˆæ¯ä¸»ä½“çš„ HTML é¡µé¢ä¸­åˆ—å‡ºã€‚   301 Moved Permanently GET æ–¹æ³•ä¸ä¼šå‘ç”Ÿå˜æ›´ï¼Œå…¶ä»–æ–¹æ³•æœ‰å¯èƒ½ä¼šå˜æ›´ä¸º GET æ–¹æ³•ã€‚2   302 Found GET æ–¹æ³•ä¸ä¼šå‘ç”Ÿå˜æ›´ï¼Œå…¶ä»–æ–¹æ³•æœ‰å¯èƒ½ä¼šå˜æ›´ä¸º GET æ–¹æ³•ã€‚3   303 See Other GET æ–¹æ³•ä¸ä¼šå‘ç”Ÿå˜æ›´ï¼Œå…¶ä»–æ–¹æ³•ä¼šå˜æ›´ä¸º GET æ–¹æ³•ï¼ˆæ¶ˆæ¯ä¸»ä½“ä¼šä¸¢å¤±ï¼‰ã€‚   304 Not Modified å‘é€ç”¨äºé‡æ–°éªŒè¯çš„æ¡ä»¶è¯·æ±‚ã€‚è¡¨ç¤ºç¼“å­˜çš„å“åº”ä»ç„¶æ˜¯æ–°é²œçš„å¹¶ä¸”å¯ä»¥ä½¿ç”¨ã€‚   307 Temporary Redirect æ–¹æ³•å’Œæ¶ˆæ¯ä¸»ä½“éƒ½ä¸å‘ç”Ÿå˜åŒ–ã€‚   308 Permanent Redirect æ–¹æ³•å’Œæ¶ˆæ¯ä¸»ä½“éƒ½ä¸å‘ç”Ÿå˜åŒ–ã€‚    å»¶ä¼¸  HTTP çš„é‡å®šå‘    è¯¥è§„èŒƒæ— æ„ä½¿æ–¹æ³•å‘ç”Ÿæ”¹å˜ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­ç”¨æˆ·ä»£ç†ä¼šè¿™ä¹ˆåšã€‚ 307 çŠ¶æ€ç è¢«åˆ›å»ºç”¨æ¥æ¶ˆé™¤åœ¨ä½¿ç”¨é GET æ–¹æ³•æ—¶çš„æ­§ä¹‰è¡Œä¸ºã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n è¯¥è§„èŒƒæ— æ„ä½¿æ–¹æ³•å‘ç”Ÿæ”¹å˜ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­ç”¨æˆ·ä»£ç†ä¼šè¿™ä¹ˆåšã€‚ 308 çŠ¶æ€ç è¢«åˆ›å»ºç”¨æ¥æ¶ˆé™¤åœ¨ä½¿ç”¨é GET æ–¹æ³•æ—¶çš„æ­§ä¹‰è¡Œä¸ºã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n è¯¥è§„èŒƒæ— æ„ä½¿æ–¹æ³•å‘ç”Ÿæ”¹å˜ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­ç”¨æˆ·ä»£ç†ä¼šè¿™ä¹ˆåšã€‚ 307 çŠ¶æ€ç è¢«åˆ›å»ºç”¨æ¥æ¶ˆé™¤åœ¨ä½¿ç”¨é GET æ–¹æ³•æ—¶çš„æ­§ä¹‰è¡Œä¸ºã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n  ","permalink":"https://zone.dnfn.tech/2021/06/202106161641333/","summary":"\u003ch2 id=\"ç®€ä»‹\"\u003eç®€ä»‹\u003c/h2\u003e\n\u003cp\u003eä¸»è¦è®°å½•äº†ä½¿ç”¨ \u003ccode\u003espring\u003c/code\u003e é‡å®šå‘æ—¶é‡åˆ°çš„é—®é¢˜ï¼Œä»¥åŠé‡æ–°ç†Ÿæ‚‰ \u003ccode\u003eHTTP\u003c/code\u003e \u003ccode\u003e3xx\u003c/code\u003e ä¸­é‡å®šå‘çŠ¶æ€ç çš„æ„ä¹‰ã€‚\u003c/p\u003e","title":"Spring POSTé‡å®šå‘åˆ°GET"},{"content":"ç®€ä»‹  .java æ–‡ä»¶ç¼–è¯‘åçš„ .class æ–‡ä»¶å†…å®¹ç©¶ç«Ÿæ˜¯æ€æ ·çš„ï¼ŸJVM åˆæ˜¯å¦‚æœè¯†åˆ«å¹¶åŠ è½½ .class æ–‡ä»¶çš„\nç¯å¢ƒ Win10ã€Nixos\nJDK1.8\nClassæ–‡ä»¶å†…å®¹ windows ä¸‹ç”¨ Powershell æŸ¥çœ‹å­—èŠ‚ç å†…å®¹(åå…­è¿›åˆ¶)\nPS\u0026gt; cat Demo.java; public class Demo{} PS\u0026gt; javac.exe Demo.java; Format-Hex Demo.class Path: D:\\tmp\\java\\Demo.class 00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F 00000000 CA FE BA BE 00 00 00 34 00 0D 0A 00 03 00 0A 07 ÃŠÃ¾ÂºÂ¾...4........ 00000010 00 0B 07 00 0C 01 00 06 3C 69 6E 69 74 3E 01 00 ........\u0026lt;init\u0026gt;.. 00000020 03 28 29 56 01 00 04 43 6F 64 65 01 00 0F 4C 69 .()V...Code...Li 00000030 6E 65 4E 75 6D 62 65 72 54 61 62 6C 65 01 00 0A neNumberTable... 00000040 53 6F 75 72 63 65 46 69 6C 65 01 00 09 44 65 6D SourceFile...Dem 00000050 6F 2E 6A 61 76 61 0C 00 04 00 05 01 00 04 44 65 o.java........De 00000060 6D 6F 01 00 10 6A 61 76 61 2F 6C 61 6E 67 2F 4F mo...java/lang/O 00000070 62 6A 65 63 74 00 21 00 02 00 03 00 00 00 00 00 bject.!......... 00000080 01 00 01 00 04 00 05 00 01 00 06 00 00 00 1D 00 ................ 00000090 01 00 01 00 00 00 05 2A B7 00 01 B1 00 00 00 01 .......*Â·..Â±.... 000000A0 00 07 00 00 00 06 00 01 00 00 00 01 00 01 00 08 ................ 000000B0 00 00 00 02 00 09 ...... Linux ä¸‹å‘½ä»¤è¡ŒæŸ¥çœ‹\n$ cat IDemo.java public interface IDemo{} $ javac IDemo.java ; hexdump IDemo.class 0000000 feca beba 0000 3400 0700 0007 0705 0600 0000010 0001 530a 756f 6372 4665 6c69 0165 0a00 0000020 4449 6d65 2e6f 616a 6176 0001 4905 6544 0000030 6f6d 0001 6a10 7661 2f61 616c 676e 4f2f 0000040 6a62 6365 0674 0001 0001 0002 0000 0000 0000050 0000 0001 0003 0000 0002 0004 000005b Classæ–‡ä»¶ç»“æ„ ä¸€ä¸ªå®Œæ•´çš„ class æ–‡ä»¶å¤§è‡´å¯åˆ†ä¸º10ä¸ªéƒ¨åˆ†\n é­”æ•° ç‰ˆæœ¬å· å¸¸é‡æ± \n3.1 å¸¸é‡æ± è®¡æ•°å™¨\n3.2 å¸¸é‡æ± æ•°æ®åŒº è®¿é—®æ ‡å¿— ç±»ç´¢å¼• çˆ¶ç±»ç´¢å¼• æ¥å£\n7.1 æ¥å£è®¡æ•°å™¨\n7.2 æ¥å£ä¿¡æ¯åŒº å­—æ®µ\n8.1 å­—æ®µè®¡æ•°å™¨\n8.2 å­—æ®µä¿¡æ¯åŒº æ–¹æ³•\n9.1 æ–¹æ³•è®¡æ•°å™¨\n9.2 æ–¹æ³•ä¿¡æ¯åŒº å±æ€§\n10.1 å±æ€§è®¡æ•°å™¨\n10.2 å±æ€§ä¿¡æ¯åŒº  å…³äºclass æ–‡ä»¶çš„åŸºæœ¬æ•°æ®ç»“æ„åœ¨ The Java Virtual Machine Specification (Second ed.)æ–‡æ¡£æœ‰è¯¦ç»†çš„è¯´æ˜ï¼Œå¦‚ä¸‹:\nstruct Class_File_Format { u4 magic_number; u2 minor_version; u2 major_version; u2 constant_pool_count; cp_info constant_pool[constant_pool_count - 1]; u2 access_flags; u2 this_class; u2 super_class; u2 interfaces_count; u2 interfaces[interfaces_count]; u2 fields_count; field_info fields[fields_count]; u2 methods_count; method_info methods[methods_count]; u2 attributes_count; attribute_info attributes[attributes_count]; } u4: æŒ‡4ä¸ªå­—èŠ‚çš„æ— ç¬¦å·æ•´å‹\nu2: æŒ‡2ä¸ªå­—èŠ‚çš„æ— ç¬¦å·æ•´å‹\nè€Œcp_infoã€field_infoã€method_infoã€attribute_info è¡¨ç¤ºç›¸å…³æ•°æ®ç»“æ„ï¼Œé•¿åº¦å‡ä¸å®šå¯å˜\nmagic_number é­”æ•°(magic_number)æ˜¯æŒ‡æŸä¸€æ–‡ä»¶æ ¼å¼ä¸‹å‰å‡ ä¸ªå›ºå®šå­—èŠ‚å€¼ï¼Œä¸€èˆ¬ç”¨äºè¯†åˆ«æ–‡ä»¶æ ¼å¼ï¼Œclassæ–‡ä»¶çš„é­”æ•°å›ºå®šä¸ºå‰4ä¸ªå­—èŠ‚ï¼Œå³ï¼šCA FE BA BEã€‚\nè‡³äºå®ƒçš„æ¥æºå’ŒèƒŒåçš„æ•…äº‹å¯ä»¥çœ‹çœ‹ Wiki - Java class file ä¸‹çš„ Magic Number\nminor_version,major_version minor_version,major_versionç»Ÿç§°ç‰ˆæœ¬å·ï¼Œå…±å ç”¨4ä¸ªå­—èŠ‚ï¼Œå„åˆ†ä¸º2ä¸ªå­—èŠ‚çš„æ¬¡ç‰ˆæœ¬å·(minor_version)å ç¬¬5ã€6å­—èŠ‚ä½ä»¥åŠå ç¬¬7ã€8å­—èŠ‚ä½çš„ä¸»ç‰ˆæœ¬å·(major_version)ã€‚ç‰ˆæœ¬å·çš„ä½œç”¨ä¸ºæ ‡è¯† class æ–‡ä»¶æ˜¯åœ¨å…·ä½“å“ªä¸ªç‰ˆæœ¬çš„ JVM ä¸‹ç”Ÿæˆçš„ï¼Œè®©è¿è¡Œæ—¶ç¯å¢ƒçš„JVMç¡®è®¤æ˜¯å¦å¯ä»¥åŠ è½½æ­¤ç‰ˆæœ¬çš„classæ–‡ä»¶ã€‚\nä»¥ä¸‹å¸¸è§ä¸»ç‰ˆæœ¬å·(major_version)\n Java SE 17 = 61 (0x3D hex),\nJava SE 16 = 60 (0x3C hex),\nJava SE 15 = 59 (0x3B hex),\nJava SE 14 = 58 (0x3A hex),\nJava SE 13 = 57 (0x39 hex),\nJava SE 12 = 56 (0x38 hex),\nJava SE 11 = 55 (0x37 hex),\nJava SE 10 = 54 (0x36 hex),\nJava SE 9 = 53 (0x35 hex),\nJava SE 8 = 52 (0x34 hex),\nJava SE 7 = 51 (0x33 hex),\nJava SE 6.0 = 50 (0x32 hex),\nJava SE 5.0 = 49 (0x31 hex),\nJDK 1.4 = 48 (0x30 hex),\nJDK 1.3 = 47 (0x2F hex),\nJDK 1.2 = 46 (0x2E hex),\nJDK 1.1 = 45 (0x2D hex).\n constant_pool å¸¸é‡æ± (constant_pool)å­˜å‚¨äº†æ•´ä¸ªclassæ–‡ä»¶ä¸‹çš„å­—é¢é‡ä¿¡æ¯1\nå¸¸é‡æ± ç´¢å¼• å¸¸é‡æ± æ•°æ® å»¶ä¼¸  Class æ–‡ä»¶åŸºæœ¬ç»„ç»‡ç»“æ„ Java class file - Wiki The class File Format    ä¸€èˆ¬æè¿°ä¸ºå›ºå®šä¸å˜çš„å€¼ï¼Œä¸\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n  ","permalink":"https://zone.dnfn.tech/2021/06/20210608875210/","summary":"\u003c!-- TOC off --\u003e\n\u003ch2 id=\"ç®€ä»‹----omit-in-toc---\"\u003eç®€ä»‹ \u003c!-- omit in toc --\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003e.java\u003c/code\u003e æ–‡ä»¶ç¼–è¯‘åçš„ \u003ccode\u003e.class\u003c/code\u003e æ–‡ä»¶å†…å®¹ç©¶ç«Ÿæ˜¯æ€æ ·çš„ï¼Ÿ\u003ccode\u003eJVM\u003c/code\u003e åˆæ˜¯å¦‚æœè¯†åˆ«å¹¶åŠ è½½ \u003ccode\u003e.class\u003c/code\u003e æ–‡ä»¶çš„\u003c/p\u003e","title":"Java Class æ–‡ä»¶è§£æ"},{"content":"","permalink":"https://zone.dnfn.tech/photo/","summary":"","title":"ç›¸å†Œ"},{"content":"","permalink":"https://zone.dnfn.tech/about/","summary":"","title":"å…³äºæˆ‘"},{"content":"ç®€ä»‹ è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦è®²è¿°äº†æˆ‘æ­å»ºä¸ªäººç½‘ç«™ï¼Œä»¥åŠå¦‚ä½•è‡ªåŠ¨æ„å»ºå‘å¸ƒé™æ€é¡µé¢çš„è¿‡ç¨‹ã€‚\nå‰è¨€ æœ€è¿‘æ­£å¥½æ•´ç†è®°å½•çš„ç¬”è®°ï¼Œä¹‹å‰å†™çš„æ¯”è¾ƒéšæ„ï¼Œä¸å¤ªå¥½æ•´ç†ï¼Œè€Œä¸”ä¹‹å‰æ—©å°±æƒ³æ­å»ºè‡ªå·±çš„ä¸ªäººåšå®¢ç½‘ç«™ï¼Œæ­£å¥½è¿™æ¬¡åˆšå¥½åˆæ—¶é—´æŠ˜è…¾æŠ˜è…¾ã€‚\næ­å»ºé™æ€ç½‘ç«™çš„æ¡†æ¶ç½‘ä¸Šæ¯”è¾ƒå¤šï¼Œæ–‡æ¡£å’Œæ•™ç¨‹å¤§éƒ¨åˆ†ä¹Ÿæ¯”è¾ƒå…¨ï¼Œè¿™æ¬¡å°±ç›´æ¥é€‰æ‹©å£ç¢‘æ¯”è¾ƒå¥½ä¹Ÿå®¹æ˜“çš„ Hugo åœ¨ Github ä¸‹æ­å»ºä¸€ä¸ªã€‚\nå®‰è£… Hugo åœ¨ Win10 ä¸‹ä½¿ç”¨å‘½ä»¤å®‰è£…ï¼š\nscoop install hugo éªŒè¯å®‰è£…:\nhugo version è¿™é‡Œçš„Scoopæ˜¯ Win10 å¹³å°ä¸‹çš„è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ä¹‹ä¸€ï¼Œéå¸¸æ–¹ä¾¿ï¼Œæ„Ÿå…´è¶£å¯åœ¨ GitHubæˆ–CodeChina ä¸ŠæŸ¥çœ‹ã€‚\næ›´å¤šçš„å®‰è£…æ–¹å¼å’Œæ–‡æ¡£å¯ä»¥å‚çœ‹Hugo å®˜æ–¹å®‰è£…æ•™ç¨‹.\næ–°å»ºç«™ç‚¹ æ–°å»ºç«™ç‚¹é¡¹ç›®\nhugo new site tech-blog Congratulations! Your new Hugo site is created in D:\\tech-blog. Just a few more steps and you\u0026#39;re ready to go: 1. Download a theme into the same-named folder. Choose a theme from https://themes.gohugo.io/ or create your own with the \u0026#34;hugo new theme \u0026lt;THEMENAME\u0026gt;\u0026#34; command. 2. Perhaps you want to add some content. You can add single files with \u0026#34;hugo new \u0026lt;SECTIONNAME\u0026gt;\\\u0026lt;FILENAME\u0026gt;.\u0026lt;FORMAT\u0026gt;\u0026#34;. 3. Start the built-in live server via \u0026#34;hugo server\u0026#34;. Visit https://gohugo.io/ for quickstart guide and full documentation. é…ç½®ä¸€æ¬¾ä¸»é¢˜\nHugoä¸»é¢˜æä¾›äº†å¤§é‡æ¨¡æ¿ï¼Œè¿™é‡Œç”¨çš„ä¸»é¢˜æ˜¯ PaperModï¼Œè¯¦ç»†æ–‡æ¡£(å®‰è£…ã€é…ç½®)å¯ä»¥åœ¨Githubä¸ŠæŸ¥çœ‹ã€‚\næ›´å¤šçš„ä¸»é¢˜å¯ä»¥åœ¨ Hugo ä¸»é¢˜ ä¸ŠæŸ¥çœ‹\ncd tech-blog git init git submodule add https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod --depth=1 git submodule update --init --recursive ä¿®æ”¹é…ç½®æ–‡ä»¶ config.toml æˆ–è€… config.yamlï¼Œ.tomlæ ¼å¼é…ç½®å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œ.\\config.yamlåŸºæœ¬å†…å®¹å¦‚ä¸‹\nbaseurl:\u0026#34;http://zone.desiyonan.tech\u0026#34;title:\u0026#34;DnF\u0026#39;s Zone\u0026#34;defaultContentLanguage:zhhasCJKLanguage:truetheme:PaperMod# ä¸»é¢˜params:AuthorName:\u0026#34;DnF\u0026#34;GitHubUser:\u0026#34;desiyonan\u0026#34;å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨\nhugo server -D Start building sites â€¦ | EN -------------------+----- Pages | 12 Paginator pages | 0 Non-page files | 0 Static files | 1 Processed images | 0 Aliases | 2 Sitemaps | 1 Cleaned | 0 Built in 35 ms Watching for changes in D:\\tech-blog\\{archetypesï¼Œcontentï¼Œdataï¼Œlayoutsï¼Œstaticï¼Œthemes} Watching for config changes in D:\\tech-blog\\config.yaml Environment: \u0026#34;development\u0026#34; Serving pages from memory Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender Web Server is available at http://localhost:1313/ (bind address 127.0.0.1) Press Ctrl+C to stop ç°åœ¨å¯ä»¥ç›´æ¥è®¿é—® http://localhost:1313/ æŸ¥çœ‹ç«™ç‚¹ï¼Œä¸è¿‡è¦çœ‹æ–‡ç« å…·ä½“æ•ˆæœå¯ä»¥å…ˆæ–°å»ºæµ‹è¯•æ–‡ç« \nhugo new post/test.md \u0026#39;## Test\u0026#39; | out-file -a -e utf8 .\\content\\post\\test.md è®¿é—® http://localhost:1313/post/test å°±å¯ä»¥çœ‹åˆ°æµ‹è¯•æ•ˆæœ\næœ€ååŸºæœ¬ä»“åº“çš„åˆå§‹åŒ–\ngit commit -am \u0026#34;init\u0026#34; git push -u origin master é…ç½® Github Pages åŸºæœ¬æ¡†æ¶å·²ç»æ­å»ºå®Œæˆï¼Œéœ€è¦èƒ½å¤Ÿåœ¨å…¬ç½‘ç›´æ¥è®¿é—®ç½‘é¡µè¿˜éœ€è¦é…ç½® Github Pagesã€‚\nçœ‹äº†ç½‘ä¸Šä¸å°‘çš„åšå®¢ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯åœ¨æœ¬åœ°ç¼–è¾‘ .md æ–‡æ¡£ï¼Œå®Œæˆåé€šè¿‡ hugo å‘½ä»¤æ„å»ºè¾“å‡ºï¼Œæœ€åå†æŠŠè¾“å‡ºçš„ public ç›®å½•æ¨é€åˆ° Github ä¸Šã€‚\nå†å°è¯•äº†ä¸€ä¸¤æ¬¡åå¤ªç¹çäº†ï¼Œè€Œä¸”ä¹Ÿä¸æ˜¯æˆ‘æƒ³è¦çš„æ•ˆæœï¼Œæœ€ååœ¨çŸ¥ä¹ä¸Šçœ‹åˆ°æœ€ç†æƒ³çš„æ•ˆæœï¼šåœ¨æœ¬åœ°ç¼–è¾‘ .md æ–‡æ¡£åæ¨é€åˆ°ç›´æ¥ä»“åº“åå°±å¯ä»¥é€šè¿‡å…¬ç½‘çœ‹åˆ°æ•ˆæœã€‚è¯¦ç»†å¯ä»¥çœ‹çŸ¥ä¹ä¸Šçš„æ–‡ç« ï¼Œè¯´æ˜çš„å¾ˆæ¸…æ¥šï¼Œé‡å¤çš„å­—ä¹Ÿæ‡’å¾—ç äº†ï¼Œè¿™é‡Œç®€å•è¯´æ˜ä¸‹å¤§è‡´æµç¨‹å’Œéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚\næµç¨‹çš„å¤§è‡´åŸç†:\nç®€å•çš„è¯´å°±æ˜¯ï¼š\n å»ºä¸¤ä¸ªä»“åº“: ä¸€ä¸ªæ”¾æ–‡æ¡£æºç ï¼Œä¸€ä¸ªæ”¾æ„å»ºåçš„é¡µé¢ä»£ç  ç»™æºç ä»“åº“æ·»åŠ  Actionï¼Œå½“æ¨é€ master ä»£ç æ—¶è‡ªåŠ¨æ„å»ºé¡µé¢ï¼Œå†æ¨é€åˆ°é¡µé¢ä»“åº“  éœ€è¦æ³¨æ„ï¼š\n æ”¾æ„å»ºåçš„é™æ€é¡µé¢çš„ä»“åº“éœ€è¦é…ç½® Github Pages ä¸¤ä¸ªä»“åº“éœ€è¦ä¸€å¯¹ SSH å¯†é’¥ï¼Œæºç ä»“åº“é…ç½®ç§é’¥ï¼Œé¡µé¢ä»“åº“é…ç½®å…¬é’¥ Github Actioné…ç½®éœ€è¦æ ¹æ®å®é™…æƒ…å†µæ”¹åŠ¨ä¸‹  ä»¥ä¸‹æ˜¯æˆ‘çš„æ”¹åŠ¨å Action é…ç½®å†…å®¹\nname:Deploy Hugo Site to Github Pages on Master Branchon:push:branches:- masterjobs:build-deploy:runs-on:ubuntu-18.04steps:- uses:actions/checkout@v1 # v2 does not have submodules option nowwith:submodules:true- name:Setup Hugouses:peaceiris/actions-hugo@v2with:hugo-version:\u0026#39;0.83.1\u0026#39;extended:true- name:Buildrun:hugo --minify- name:Deployuses:peaceiris/actions-gh-pages@v3with:deploy_key:${{ secrets.ACTIONS_DEPLOY_KEY }}# è¿™é‡Œçš„ ACTIONS_DEPLOY_KEY åˆ™æ˜¯ä¸Šé¢è®¾ç½® Private Keyçš„å˜é‡åexternal_repository:desiyonan/zone# Pages è¿œç¨‹ä»“åº“publish_dir:\u0026#34;public\u0026#34;keep_files:false# remove existing filespublish_branch:master # deploying branchcommit_message:${{ github.event.head_commit.message }}ä¸åŒçš„ç‚¹ï¼š\nwith:submodules:trueå› ä¸ºä¹‹å‰é…ç½®ä¸»é¢˜æ—¶æ˜¯åˆ°äº† git submoduleï¼Œæ‰€ä»¥è¿™é‡Œå¿…è¦æœ‰ï¼Œä¸ç„¶æ„å»ºåæ²¡æœ‰ä¸»é¢˜ã€‚\nå…¶æ¬¡\nexternal_repository:desiyonan/zone# Pages è¿œç¨‹ä»“åº“publish_dir:\u0026#34;public\u0026#34;external_repository æ˜¯æ”¾é¡µé¢ä»“åº“ï¼Œpublish_dir æ˜¯æ„å»ºåéœ€è¦æ¨é€çš„ç›®å½•ï¼Œhugo é»˜è®¤çš„æ„å»ºç›®å½•å°±æ˜¯ publicï¼Œå…·ä½“é…ç½®çœ‹ä¸‹ config.toml æˆ–è€… config.yaml ä¸‹æœ‰æ²¡æœ‰\npublishdir:xxxxä¸å¤æ‚ï¼Œæ‘¸ç´¢ä¸ªæŠŠå°æ—¶å°±è¡Œäº†ã€‚ä¸¤ä¸ªä»“åº“çš„å…³è”é…ç½®åˆ°æ­¤ä½ç½®ï¼Œè¿˜éœ€è¦æœ€åä¸€æ­¥é…ç½®é¡µé¢ä»“åº“çš„Github Pages\næ‰“å¼€å¯¹åº” Github ä»“åº“é¡µé¢ï¼Œæ‰¾åˆ° Setting é¡µç­¾ï¼Œç„¶åå¯ä»¥åœ¨ä¾§è¾¹æ çœ‹åˆ° Pages è®¾ç½®\néœ€è¦é…ç½®çš„ä¸»è¦æ˜¯ Source é€‰æ‹©åˆ†æ”¯å’Œç›®å½•ï¼Œè‡ªå®šä¹‰åŸŸåå¯ä»¥é€šè¿‡ Custom domain é…ç½®ï¼ŒåŸŸåé…ç½®ä¸æ˜¯å¿…é¡»ï¼Œå¦‚æœé…ç½®äº†è¿˜éœ€è¦æ–°å¢ static/CNAME æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å°±æ˜¯è‡ªå®šä¹‰çš„åŸŸåï¼Œä¸­é€”æ”¹äº†å‡ æ¬¡åŸŸåå°±æ˜¯æ²¡æ”¹æ–‡ä»¶å¯¼è‡´è®¿é—®ä¸äº†ç½‘ç«™ã€‚\nPS\u0026gt;cat static\\CNAME zone.desiyonan.tech è‡³æ­¤ï¼Œè€—æ—¶ä¸¤å¤©ï¼Œä¸€ä¸ªå®Œæ•´çš„è‡ªåŠ¨åŒ–éƒ¨ç½²ä¸ªäººåšå®¢ç»ˆäºæ­å»ºå®Œäº†ï¼Œç½‘ç«™çš„ç¾åŒ–åé¢å†ä¸€æ­¥æ­¥æ¥ã€‚\nç›¸å…³é“¾æ¥  Hugo homepage Hugo Install Hugo Docs Hugo Themes Theme PaperMod PaperMod - Github Hugo Config Scoop Github Scoop Codechina Hugo Gitee - Blog ä½¿ç”¨Hugoæ­å»ºåšå®¢ - Blog Hugo Deploy Action  ","permalink":"https://zone.dnfn.tech/2021/05/8df2adb7809b41c597eb2efb10ed66db/","summary":"\u003ch2 id=\"ç®€ä»‹\"\u003eç®€ä»‹\u003c/h2\u003e\n\u003cp\u003eè¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦è®²è¿°äº†æˆ‘æ­å»ºä¸ªäººç½‘ç«™ï¼Œä»¥åŠå¦‚ä½•è‡ªåŠ¨æ„å»ºå‘å¸ƒé™æ€é¡µé¢çš„è¿‡ç¨‹ã€‚\u003c/p\u003e","title":"Hugo+Github æ­å»ºä¸ªäººç½‘ç«™"}]